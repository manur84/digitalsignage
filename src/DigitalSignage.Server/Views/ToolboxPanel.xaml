<UserControl x:Class="DigitalSignage.Server.Views.ToolboxPanel"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d"
             d:DesignHeight="800" d:DesignWidth="60">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>     <!-- Tool Palette -->
            <RowDefinition Height="Auto"/>  <!-- Alignment Toolbar -->
        </Grid.RowDefinitions>

        <!-- Tool Palette -->
        <Border Grid.Row="0" Background="#2D2D30" BorderBrush="#3F3F46" BorderThickness="0,0,1,0">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel Margin="8">
                    <Button ToolTip="Select"
                            Command="{Binding SelectToolCommand}"
                            CommandParameter="select"
                            Style="{StaticResource SecondaryButton}"
                            Margin="0,4"
                            Padding="8">
                        <TextBlock Text="â¬š" FontSize="20"/>
                    </Button>
                    <Button ToolTip="Text"
                            Command="{Binding AddTextElementCommand}"
                            Style="{StaticResource SecondaryButton}"
                            Margin="0,4"
                            Padding="8">
                        <TextBlock Text="T" FontSize="20" FontWeight="Bold"/>
                    </Button>
                    <Button ToolTip="Media Library"
                            Command="{Binding AddMediaLibraryElementCommand}"
                            Style="{StaticResource SecondaryButton}"
                            Margin="0,4"
                            Padding="8">
                        <TextBlock Text="ðŸ“š" FontSize="18"/>
                    </Button>
                    <Button ToolTip="Rectangle"
                            Command="{Binding AddRectangleElementCommand}"
                            Style="{StaticResource SecondaryButton}"
                            Margin="0,4"
                            Padding="8">
                        <Rectangle Width="24" Height="16" Fill="Transparent" Stroke="White" StrokeThickness="2"/>
                    </Button>
                    <Button ToolTip="Circle"
                            Command="{Binding AddCircleElementCommand}"
                            Style="{StaticResource SecondaryButton}"
                            Margin="0,4"
                            Padding="8">
                        <Ellipse Width="24" Height="24" Fill="Transparent" Stroke="White" StrokeThickness="2"/>
                    </Button>
                    <Button ToolTip="QR Code"
                            Command="{Binding AddQRCodeElementCommand}"
                            Style="{StaticResource SecondaryButton}"
                            Margin="0,4"
                            Padding="8">
                        <TextBlock Text="â–¦" FontSize="20"/>
                    </Button>
                    <Button ToolTip="Table"
                            Command="{Binding AddTableElementCommand}"
                            Style="{StaticResource SecondaryButton}"
                            Margin="0,4"
                            Padding="8">
                        <TextBlock Text="â˜°" FontSize="20"/>
                    </Button>
                    <Button ToolTip="DataGrid (SQL Data Source)"
                            Command="{Binding AddDataGridElementCommand}"
                            Style="{StaticResource SecondaryButton}"
                            Margin="0,4"
                            Padding="8">
                        <TextBlock Text="ðŸ“Š" FontSize="18"/>
                    </Button>
                    <Button ToolTip="Date/Time"
                            Command="{Binding AddDateTimeElementCommand}"
                            Style="{StaticResource SecondaryButton}"
                            Margin="0,4"
                            Padding="8">
                        <TextBlock Text="ðŸ“…" FontSize="16"/>
                    </Button>
                    <Separator Margin="0,8" Background="#3F3F46"/>
                    <Button ToolTip="Delete Selected (Del)"
                            Command="{Binding DeleteSelectedElementCommand}"
                            Style="{StaticResource SecondaryButton}"
                            Margin="0,4"
                            Padding="8">
                        <TextBlock Text="ðŸ—‘" FontSize="18"/>
                    </Button>
                    <Button ToolTip="Duplicate (Ctrl+D)"
                            Command="{Binding DuplicateSelectedElementCommand}"
                            Style="{StaticResource SecondaryButton}"
                            Margin="0,4"
                            Padding="8">
                        <TextBlock Text="ðŸ“‹" FontSize="18"/>
                    </Button>
                </StackPanel>
            </ScrollViewer>
        </Border>

        <!-- Alignment Toolbar -->
        <Border Grid.Row="1" Background="#2D2D30" BorderBrush="#3F3F46" BorderThickness="0,1,1,0">
            <ScrollViewer VerticalScrollBarVisibility="Auto" MaxHeight="300">
                <StackPanel Margin="4">
                    <TextBlock Text="ALIGN" FontSize="9" Foreground="#999" Margin="4,8,4,4" FontWeight="SemiBold"/>

                    <!-- Horizontal Alignment -->
                    <Button ToolTip="Align Left"
                            Command="{Binding AlignLeftCommand}"
                            Style="{StaticResource SecondaryButton}"
                            Margin="0,2"
                            Padding="6">
                        <TextBlock Text="â«·" FontSize="18"/>
                    </Button>
                    <Button ToolTip="Center Horizontal"
                            Command="{Binding CenterHorizontalCommand}"
                            Style="{StaticResource SecondaryButton}"
                            Margin="0,2"
                            Padding="6">
                        <TextBlock Text="â«´" FontSize="18"/>
                    </Button>
                    <Button ToolTip="Align Right"
                            Command="{Binding AlignRightCommand}"
                            Style="{StaticResource SecondaryButton}"
                            Margin="0,2"
                            Padding="6">
                        <TextBlock Text="â«¸" FontSize="18"/>
                    </Button>

                    <Separator Margin="0,4" Background="#3F3F46"/>

                    <!-- Vertical Alignment -->
                    <Button ToolTip="Align Top"
                            Command="{Binding AlignTopCommand}"
                            Style="{StaticResource SecondaryButton}"
                            Margin="0,2"
                            Padding="6">
                        <TextBlock Text="â«¶" FontSize="18"/>
                    </Button>
                    <Button ToolTip="Center Vertical"
                            Command="{Binding CenterVerticalCommand}"
                            Style="{StaticResource SecondaryButton}"
                            Margin="0,2"
                            Padding="6">
                        <TextBlock Text="â«¿" FontSize="18"/>
                    </Button>
                    <Button ToolTip="Align Bottom"
                            Command="{Binding AlignBottomCommand}"
                            Style="{StaticResource SecondaryButton}"
                            Margin="0,2"
                            Padding="6">
                        <TextBlock Text="â«·" FontSize="18" RenderTransformOrigin="0.5,0.5">
                            <TextBlock.RenderTransform>
                                <RotateTransform Angle="180"/>
                            </TextBlock.RenderTransform>
                        </TextBlock>
                    </Button>

                    <Separator Margin="0,4" Background="#3F3F46"/>

                    <!-- Distribution -->
                    <Button ToolTip="Distribute Horizontally (3+ elements)"
                            Command="{Binding DistributeHorizontalCommand}"
                            Style="{StaticResource SecondaryButton}"
                            Margin="0,2"
                            Padding="6">
                        <TextBlock Text="â¬Œ" FontSize="16"/>
                    </Button>
                    <Button ToolTip="Distribute Vertically (3+ elements)"
                            Command="{Binding DistributeVerticalCommand}"
                            Style="{StaticResource SecondaryButton}"
                            Margin="0,2"
                            Padding="6">
                        <TextBlock Text="â¬" FontSize="16"/>
                    </Button>

                    <Separator Margin="0,4" Background="#3F3F46"/>

                    <!-- Center on Canvas -->
                    <Button ToolTip="Center on Canvas"
                            Command="{Binding CenterOnCanvasCommand}"
                            Style="{StaticResource SecondaryButton}"
                            Margin="0,2"
                            Padding="6">
                        <TextBlock Text="â—ˆ" FontSize="18"/>
                    </Button>
                </StackPanel>
            </ScrollViewer>
        </Border>
    </Grid>
</UserControl>
