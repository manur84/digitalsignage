<UserControl x:Class="DigitalSignage.Server.Controls.ColorPicker"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d"
             d:DesignHeight="36" d:DesignWidth="200">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="36"/>
        </Grid.ColumnDefinitions>

        <TextBox x:Name="ColorTextBox"
                 Grid.Column="0"
                 VerticalContentAlignment="Center"
                 Padding="8,0"
                 Text="{Binding SelectedColor, RelativeSource={RelativeSource AncestorType=UserControl}, UpdateSourceTrigger=PropertyChanged}"/>

        <Border x:Name="ColorPreviewBorder"
                Grid.Column="1"
                Margin="4,0,0,0"
                BorderBrush="#CCCCCC"
                BorderThickness="1"
                CornerRadius="2"
                Cursor="Hand"
                Background="Black"
                MouseLeftButtonDown="ColorPreview_Click"/>


        <Popup x:Name="ColorPopup"
               PlacementTarget="{Binding ElementName=ColorTextBox}"
               Placement="Bottom"
               StaysOpen="False">
            <Border Background="White"
                    BorderBrush="#CCCCCC"
                    BorderThickness="1"
                    Padding="8">
                <StackPanel>
                    <TextBlock Text="Preset Colors" FontWeight="SemiBold" Margin="0,0,0,8"/>
                    <UniformGrid Columns="8" Rows="3">
                        <!-- Common colors -->
                        <Border Width="24" Height="24" Margin="2" Background="#000000" Cursor="Hand" MouseLeftButtonDown="PresetColor_Click"/>
                        <Border Width="24" Height="24" Margin="2" Background="#FFFFFF" Cursor="Hand" MouseLeftButtonDown="PresetColor_Click"/>
                        <Border Width="24" Height="24" Margin="2" Background="#FF0000" Cursor="Hand" MouseLeftButtonDown="PresetColor_Click"/>
                        <Border Width="24" Height="24" Margin="2" Background="#00FF00" Cursor="Hand" MouseLeftButtonDown="PresetColor_Click"/>
                        <Border Width="24" Height="24" Margin="2" Background="#0000FF" Cursor="Hand" MouseLeftButtonDown="PresetColor_Click"/>
                        <Border Width="24" Height="24" Margin="2" Background="#FFFF00" Cursor="Hand" MouseLeftButtonDown="PresetColor_Click"/>
                        <Border Width="24" Height="24" Margin="2" Background="#FF00FF" Cursor="Hand" MouseLeftButtonDown="PresetColor_Click"/>
                        <Border Width="24" Height="24" Margin="2" Background="#00FFFF" Cursor="Hand" MouseLeftButtonDown="PresetColor_Click"/>

                        <Border Width="24" Height="24" Margin="2" Background="#808080" Cursor="Hand" MouseLeftButtonDown="PresetColor_Click"/>
                        <Border Width="24" Height="24" Margin="2" Background="#C0C0C0" Cursor="Hand" MouseLeftButtonDown="PresetColor_Click"/>
                        <Border Width="24" Height="24" Margin="2" Background="#800000" Cursor="Hand" MouseLeftButtonDown="PresetColor_Click"/>
                        <Border Width="24" Height="24" Margin="2" Background="#008000" Cursor="Hand" MouseLeftButtonDown="PresetColor_Click"/>
                        <Border Width="24" Height="24" Margin="2" Background="#000080" Cursor="Hand" MouseLeftButtonDown="PresetColor_Click"/>
                        <Border Width="24" Height="24" Margin="2" Background="#808000" Cursor="Hand" MouseLeftButtonDown="PresetColor_Click"/>
                        <Border Width="24" Height="24" Margin="2" Background="#800080" Cursor="Hand" MouseLeftButtonDown="PresetColor_Click"/>
                        <Border Width="24" Height="24" Margin="2" Background="#008080" Cursor="Hand" MouseLeftButtonDown="PresetColor_Click"/>

                        <Border Width="24" Height="24" Margin="2" Background="#FFA500" Cursor="Hand" MouseLeftButtonDown="PresetColor_Click"/>
                        <Border Width="24" Height="24" Margin="2" Background="#A52A2A" Cursor="Hand" MouseLeftButtonDown="PresetColor_Click"/>
                        <Border Width="24" Height="24" Margin="2" Background="#DEB887" Cursor="Hand" MouseLeftButtonDown="PresetColor_Click"/>
                        <Border Width="24" Height="24" Margin="2" Background="#5F9EA0" Cursor="Hand" MouseLeftButtonDown="PresetColor_Click"/>
                        <Border Width="24" Height="24" Margin="2" Background="#7FFF00" Cursor="Hand" MouseLeftButtonDown="PresetColor_Click"/>
                        <Border Width="24" Height="24" Margin="2" Background="#D2691E" Cursor="Hand" MouseLeftButtonDown="PresetColor_Click"/>
                        <Border Width="24" Height="24" Margin="2" Background="#FF7F50" Cursor="Hand" MouseLeftButtonDown="PresetColor_Click"/>
                        <Border Width="24" Height="24" Margin="2" Background="#6495ED" Cursor="Hand" MouseLeftButtonDown="PresetColor_Click"/>
                    </UniformGrid>
                </StackPanel>
            </Border>
        </Popup>
    </Grid>
</UserControl>
